#include <CORE/ScreenMemory.hpp>
#include <assert.h>

// ---
const std::vector <std::vector <MCHEmul::UByte>> MCHEmul::ScreenMemory::_CHARS =
{
	// Space
	{ 0x00, 0x00, 0x00, 0x00 },
    // 0...9
    { 0x06, 0x09, 0x09, 0x06 },
    { 0x02, 0x06, 0x02, 0x07 },
    { 0x06, 0x09, 0x02, 0x0F },
    { 0x0E, 0x02, 0x02, 0x0E },
    { 0x09, 0x09, 0x0F, 0x01 },
    { 0x0F, 0x08, 0x0E, 0x0E },
    { 0x06, 0x08, 0x0E, 0x06 },
    { 0x0F, 0x01, 0x02, 0x04 },
    { 0x06, 0x09, 0x06, 0x09 },
    { 0x06, 0x09, 0x07, 0x02 },
	// A...Z
    { 0x06, 0x09, 0x0F, 0x09 },
    { 0x0E, 0x09, 0x0E, 0x09 },
    { 0x06, 0x08, 0x08, 0x06 },
    { 0x0C, 0x0A, 0x0A, 0x0C },
    { 0x0F, 0x08, 0x0E, 0x08 },
    { 0x0F, 0x08, 0x0E, 0x08 },
    { 0x06, 0x08, 0x0B, 0x06 },
    { 0x09, 0x09, 0x0F, 0x09 },
    { 0x0E, 0x04, 0x04, 0x0E },
    { 0x02, 0x02, 0x02, 0x0C },
    { 0x09, 0x0A, 0x0C, 0x0A },
    { 0x08, 0x08, 0x08, 0x0F },
    { 0x09, 0x0F, 0x09, 0x09 },
    { 0x09, 0x0D, 0x0B, 0x09 },
    { 0x06, 0x09, 0x09, 0x06 },
    { 0x0E, 0x09, 0x0E, 0x08 },
    { 0x06, 0x09, 0x0B, 0x07 },
    { 0x0E, 0x09, 0x0E, 0x09 },
    { 0x07, 0x0C, 0x02, 0x0E },
    { 0x0F, 0x04, 0x04, 0x04 },
    { 0x09, 0x09, 0x09, 0x06 },
    { 0x09, 0x09, 0x06, 0x06 },
    { 0x09, 0x09, 0x0F, 0x06 },
    { 0x09, 0x06, 0x06, 0x09 },
    { 0x09, 0x06, 0x04, 0x04 },
    { 0x0F, 0x02, 0x04, 0x0F }
};

// ---
MCHEmul::ScreenMemory::ScreenMemory (size_t c, size_t r, unsigned int* p)
	: _frameData (nullptr),
	  _columns (c), _rows (r), _colorPalette (p)
{ 
	assert (_columns > 0 && _rows > 0);
	assert (_colorPalette != nullptr);
							
	_frameData = new unsigned int [_rows * _columns]; 
}
