#include <CORE/ScreenMemory.hpp>
#include <assert.h>

// ---
const std::vector <std::vector <MCHEmul::UByte>> MCHEmul::ScreenMemory::_CHARS =
{
    // SPACE
    { 0x00, 0x00, 0x00, 0x00, 0x00 },

    // 0..9
    { 0x0E, 0x11, 0x11, 0x11, 0x0E },
    { 0x04, 0x0C, 0x04, 0x04, 0x0E },
    { 0x0E, 0x11, 0x02, 0x04, 0x1F },
    { 0x0E, 0x01, 0x0E, 0x01, 0x0E },
    { 0x11, 0x11, 0x1F, 0x01, 0x01 },
    { 0x1F, 0x10, 0x1E, 0x01, 0x1E },
    { 0x0E, 0x10, 0x1E, 0x11, 0x0E },
    { 0x1F, 0x01, 0x02, 0x04, 0x04 },
    { 0x0E, 0x11, 0x0E, 0x11, 0x0E },
    { 0x0E, 0x11, 0x0F, 0x01, 0x0E },

	// A...Z
    { 0x0E, 0x11, 0x1F, 0x11, 0x11 },
    { 0x1E, 0x11, 0x1E, 0x11, 0x1E },
    { 0x0E, 0x11, 0x10, 0x11, 0x0E },
    { 0x1E, 0x11, 0x11, 0x11, 0x1E },
    { 0x1F, 0x10, 0x1E, 0x10, 0x1F },
    { 0x1F, 0x10, 0x1E, 0x10, 0x10 },
    { 0x0E, 0x11, 0x10, 0x13, 0x0F },
    { 0x11, 0x11, 0x1F, 0x11, 0x11 },
    { 0x1F, 0x04, 0x04, 0x04, 0x1F },
    { 0x07, 0x02, 0x02, 0x12, 0x0C },
    { 0x11, 0x12, 0x1C, 0x12, 0x11 },
    { 0x10, 0x10, 0x10, 0x10, 0x1F },
    { 0x11, 0x1B, 0x15, 0x11, 0x11 },
    { 0x11, 0x19, 0x15, 0x1B, 0x11 },
    { 0x0E, 0x11, 0x11, 0x11, 0x0E },
    { 0x1E, 0x11, 0x1E, 0x10, 0x10 },
    { 0x0E, 0x11, 0x11, 0x13, 0x0F },
    { 0x1E, 0x11, 0x1E, 0x12, 0x11 },
    { 0x0F, 0x10, 0x0E, 0x01, 0x1E },
    { 0x1F, 0x04, 0x04, 0x04, 0x04 },
    { 0x11, 0x11, 0x11, 0x11, 0x0E },
    { 0x11, 0x11, 0x11, 0x0A, 0x04 },
    { 0x11, 0x11, 0x15, 0x1B, 0x11 },
    { 0x11, 0x0A, 0x04, 0x0A, 0x11 },
    { 0x11, 0x0A, 0x04, 0x04, 0x04 },
    { 0x1F, 0x02, 0x04, 0x08, 0x1F }
};

// ---
MCHEmul::ScreenMemory::ScreenMemory (size_t c, size_t r, unsigned int* p)
	: _frameData (nullptr),
	  _columns (c), _rows (r), _colorPalette (p)
{ 
	assert (_columns > 0 && _rows > 0);
	assert (_colorPalette != nullptr);
							
	_frameData = new unsigned int [_rows * _columns]; 
}
